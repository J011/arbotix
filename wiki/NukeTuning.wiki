#summary Details of the NUKE IK system, and how to tune it.

= Overview of the IK Solution and Gait Engine =

NUKE generates a full inverse kinematics solution and a gait engine for your robot. However, you may want to tune it by hand. Before you can tune a system though, you'll need to know how it works

The most important function is the _doIK()_ function, which ties everything from NUKE together. _doIK()_ generates an IK solution for each leg's servos, taking into account the default positions (created in _setupIK()_), gait requests, and the bodyIK parameters such as body yaw or pitch. 

= Geometric Stability =

NUKE generates a geometrically stable gait, that is, the _Center-of-Gravity_ of the robot is always within the _Support Polygon_ created by the feet that remain on the ground. 

The _Stability Margin_ is the shortest length from the COG to the support polygon as projected along the direction of gravity. What the heck does that mean? On an incline, your stability margin is less than on flat ground. Frequently, the stability margin may be difficult or impossible to determine, and so approximations are often used. 

By default, NUKE generates _continuous gaits_. Continuous gaits are such that the body moves in the desired direction at a continuous rate. A discontinuous gait is one that moves the body only when all feet are on the ground. When a gait is not stable enough, especially over terrain, switching to a discontinuous gait may be of help. 

<font color="#FF0000"> TODO: add images of stability margin/etc </font>

= Length of Stride as an Optimization Factor = 

NUKE computes the _Configuration Space_ of your robot's legs. The configuration space is the region of space where the legs can actually touch without any servo going out of range. From this, it can find what the default end effector positions should be in order to maximize stride. Future versions of NUKE will also allow optimizations for maximal stability margin, or other parameters, however, at this point you would have to hand optimize for this. 

= Creating New Gait Generators = 

= Updating the !SelectGait() Function =

After creating your new gait, you need to add the ability to select the gait. 

= Other Hacking =

<font color="#FF0000"> TODO: add what values mean, out of range issues, etc </font>